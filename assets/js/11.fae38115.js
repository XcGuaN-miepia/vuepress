(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{367:function(t,e,s){"use strict";s.r(e);var v=s(42),r=Object(v.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("div",{staticClass:"language-! extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("友情提示：本教程只提供vscode的提示方法！别的编辑器我不会搞！\n")])])]),s("p",[t._v("用过 "),s("strong",[t._v("vscode")]),t._v(" 和 "),s("strong",[t._v("element-ui")]),t._v(" 组件的小伙伴一定会体验过，他的组件能够自动提示名称以及提示可传入 "),s("strong",[t._v("Attributes")])]),t._v(" "),s("p",[s("strong",[t._v("下面是使用截图")]),t._v(" "),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/15/1717dcafea23978d?w=1462&h=582&f=png&s=92351",alt:""}}),t._v(" "),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/15/1717dcbaa65ef0ff?w=1696&h=592&f=png&s=106360",alt:""}})]),t._v(" "),s("p",[s("strong",[t._v("附一张 el-dialog 组件传值说明图")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/15/1717dcd780399497?w=928&h=862&f=png&s=97808",alt:""}}),t._v("\n可以看到，它提示的值基本都是能对应上的。不同于 "),s("strong",[t._v("snippets")]),t._v("，这种方式最大的好处就是按需引入需要的值，像 "),s("strong",[t._v("align")]),t._v(" 这些值甚至能提示可以输入哪些值。但是这种好用的方法除了在 "),s("strong",[t._v("element-ui")]),t._v(" 组件之外，我也没有见过别的组件有这种形式的提示。")]),t._v(" "),s("p",[t._v("为了研究为什么能提示，我也下载过 "),s("strong",[t._v("element-ui")]),t._v(" 的源码，也参考过他的写法写过一个组件库，也考虑过是他的ts文件生成的提示。在一系列的尝试之后，我都失败了。此历程前前后后断断续续经历了半年时间，一直都没有任何思绪。直到最近，我考虑了一下是否是我安装的插件中有无对 "),s("strong",[t._v("element-ui")]),t._v(" 进行支持的。")]),t._v(" "),s("p",[t._v("在不停的禁用启用我的插件之后，我终于发现了提示代码的插件： "),s("strong",[t._v("Vetur")]),t._v("，就是那个写 "),s("strong",[t._v("Vue")]),t._v(" 代码必备插件。")]),t._v(" "),s("p",[t._v("之前很长一段时间，我对 "),s("strong",[t._v("Vetur")]),t._v(" 的认知就只是 "),s("strong",[t._v("Vue")]),t._v(" 标签高亮提示而已，压根想不到他竟然会对 "),s("strong",[t._v("element-ui")]),t._v(" 进行提示支持。后来翻看他的文档之后，发现他的确是对 "),s("strong",[t._v("element-ui")]),t._v(" 进行支持的")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/15/1717deab20131b90?w=757&h=210&f=png&s=36134",alt:""}})]),t._v(" "),s("p",[t._v("历尽千辛万苦终于找到了解决方法，下面就开始进入正题")]),t._v(" "),s("h2",{attrs:{id:"_1、tags-attributes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、tags-attributes"}},[t._v("#")]),t._v(" 1、Tags / Attributes")]),t._v(" "),s("p",[s("strong",[t._v("Tags")]),t._v(" 和 "),s("strong",[t._v("Attributes")]),t._v(" 其实分别是 2 个不同的 json 文件，下面就以 "),s("strong",[t._v("element-ui")]),t._v(" 的 "),s("strong",[t._v("element-tags.json")]),t._v(" 和 "),s("strong",[t._v("element-attributes.json")]),t._v(" 来说。由于也没有找到具体文档，下面说明"),s("strong",[t._v("仅供参考！！")])]),t._v(" "),s("div",{staticClass:"language-! extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("element-tags.json\n")])])]),s("p",[t._v("https://github.com/ElementUI/element-helper-json/blob/master/element-tags.json\n"),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/15/1717e04da4906525?w=1832&h=1464&f=png&s=261730",alt:""}}),t._v("\n从标签上来说很好理解，定义了不同的组件的标签名。标签下面可以包含 4 个属性")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("属性名")]),t._v(" "),s("th",[t._v("作用")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("attributes")]),t._v(" "),s("td",[t._v("可以触发提示的属性")])]),t._v(" "),s("tr",[s("td",[t._v("description")]),t._v(" "),s("td",[t._v("组件的描述")])]),t._v(" "),s("tr",[s("td",[t._v("subtags")]),t._v(" "),s("td",[t._v("上层组件（在实际用法中似乎这个值没有作用）")])]),t._v(" "),s("tr",[s("td",[t._v("defaults")]),t._v(" "),s("td",[t._v("目前不是很清楚这个属性作用是什么")])])])]),t._v(" "),s("div",{staticClass:"language-! extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("element-attrbiutes.json\n")])])]),s("p",[t._v("https://github.com/ElementUI/element-helper-json/blob/master/element-attributes.json\n"),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/22/171a24ee60136edf?w=2226&h=1954&f=png&s=833407",alt:""}}),t._v("\n这个文件从文件名中就可以看出，这是一个描述属性用的文件。常见的属性就 3 个")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("属性名")]),t._v(" "),s("th",[t._v("作用")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("options")]),t._v(" "),s("td",[t._v("属性可以选择的默认提示")])]),t._v(" "),s("tr",[s("td",[t._v("description")]),t._v(" "),s("td",[t._v("属性的描述")])]),t._v(" "),s("tr",[s("td",[t._v("version")]),t._v(" "),s("td",[t._v("版本号")])])])]),t._v(" "),s("p",[t._v("这里面的属性大多数是公用的，但是有一些属性名称可能相同，但是作用描述却不相同，这该怎么办呢？")]),t._v(" "),s("p",[t._v("其实这也是可以解决的")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/22/171a2651497dcf93?w=1870&h=122&f=png&s=52120",alt:""}}),t._v("\n比如这边都有用到 "),s("strong",[t._v("center")]),t._v(" 属性，可以在属性的前面加上'组件名/'这种格式，这样就可以不同的组件用同一个名称的提示，但是描述可以更改不一样的（弱弱吐槽一下，他们的 "),s("strong",[t._v("el-steps")]),t._v(" 好像写错了）")]),t._v(" "),s("h2",{attrs:{id:"_2、如何配置到组件当中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、如何配置到组件当中"}},[t._v("#")]),t._v(" 2、如何配置到组件当中")]),t._v(" "),s("p",[t._v("其实单看 "),s("strong",[t._v("element-ui")]),t._v(" 的组件库，其实看不出什么名堂，这也是为什么我花了很长一段时间也没有研究明白的原因。真相其实是，"),s("strong",[t._v("Vetur")]),t._v(" 对于 "),s("strong",[t._v("element-ui")]),t._v(" 做了支持。上面的 "),s("strong",[t._v("github")]),t._v(" 地址就是 "),s("strong",[t._v("element-ui")]),t._v(" 提示文件，"),s("strong",[t._v("Vetur")]),t._v(" 直接依赖了这两个文件，所以在 "),s("strong",[t._v("element-ui")]),t._v(" 组件当中不需要放上这两个文件。但是像我们这些小众的开发者，总不能要求 "),s("strong",[t._v("Vetur")]),t._v(" 插件开发者为我们的组件做一个支持吧。幸好，在查看 "),s("strong",[t._v("Vetur")]),t._v(" 的源码和参考国外的资料之后，我发现其实我们个人开发团队也能做代码提示。")]),t._v(" "),s("p",[t._v("首先上面两个文件是必备的，对于组件库中的组件用法属性得先编写一套规则。完成规则创建后，将这两个文件放到项目当中。像我直接在项目当中新建了一个 "),s("strong",[t._v("vetur")]),t._v(" 名称的文件夹，将这两个文件放到了其中。之后只需要在 "),s("strong",[t._v("package.json")]),t._v(" 文件中加入几行代码")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"vetur": {\n  "tags": "vetur/tags.json",\n  "attributes": "vetur/attributes.json"\n},\n')])])]),s("p",[t._v("当然如果像我一样放文件的位置，"),s("strong",[t._v("files")]),t._v(" 属性也得加一下 "),s("strong",[t._v("vetur")]),t._v(" 的目录\n"),s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2020/4/22/171a278e2cedb374?w=204&h=188&f=png&s=6399",alt:""}})]),t._v(" "),s("p",[t._v("完成这些步骤之后，打包到本地或者上传到 "),s("strong",[t._v("npm")]),t._v(" 当中，重新依赖一下文件，重启一下 "),s("strong",[t._v("vscode")]),t._v(" 编辑器之后，就能发现代码提示成功了")]),t._v(" "),s("h2",{attrs:{id:"_3、我没有组件库怎么办"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、我没有组件库怎么办"}},[t._v("#")]),t._v(" 3、我没有组件库怎么办？")]),t._v(" "),s("p",[t._v("其实这个方法是我最开始找到的方法。既然 "),s("strong",[t._v("Vetur")]),t._v(" 插件对 "),s("strong",[t._v("element-ui")]),t._v(" 组件支持，并且插件又是用 "),s("strong",[t._v("js")]),t._v(" 写的，为什么不能直接去修改一下他的源码呢？")]),t._v(" "),s("p",[t._v("1、首先找到 "),s("strong",[t._v("Vetur")]),t._v(" 插件在电脑的位置")]),t._v(" "),s("p",[s("code",[t._v("mac 地址：/Users/[user]/.vscode/extensions/octref.vetur-0.24.0")])]),t._v(" "),s("p",[s("strong",[t._v("Windows")]),t._v(" 系统我没有进行尝试，毕竟百度搜一下很快就能找到插件安装的位置")]),t._v(" "),s("p",[t._v("2、进入 "),s("strong",[t._v("sever/dist/modes/template/tagProviders")]),t._v(" 文件夹，找到 "),s("strong",[t._v("externalTagProviders.js")]),t._v(" 和 "),s("strong",[t._v("externalTagProviders.d.ts")]),t._v(" 文件")]),t._v(" "),s("div",{staticClass:"language-! extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("externalTagProviders.js\n")])])]),s("p",[t._v("可以先定义两个变量 "),s("strong",[t._v("newTags")]),t._v(" 和 "),s("strong",[t._v("newAttributes")]),t._v(" （当然你可以取别的名字），可以直接 "),s("strong",[t._v("require")]),t._v(" 获取你本地的规则")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('const newTags = require("本地地址")\nconst newAttributes = require("本地地址")\n')])])]),s("p",[t._v("再对外导出一个 "),s("strong",[t._v("newTagProvider")]),t._v(" 变量，具体写法可以参考 "),s("strong",[t._v("elementTagProvider")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("exports.newTagProvider = getExternalTagProvider('new', newTags, newAttributes);\n")])])]),s("p",[t._v("注意：第一个参数 "),s("strong",[t._v("'new'")]),t._v(" 不能随便取，之后下面步骤需要用到")]),t._v(" "),s("div",{staticClass:"language-! extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("externalTagProviders.d.ts\n")])])]),s("p",[t._v("在该文件当中补一段导出的 ts 提示（大概是这个作用？ts 学的不是很好）")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("export declare const newTagProvider: IHTMLTagProvider;\n")])])]),s("p",[t._v("3、同目录下找到 "),s("strong",[t._v("index.js")]),t._v(" 文件，找到 "),s("strong",[t._v("exports.allTagProviders")]),t._v("，在下面补上之前导出的 "),s("strong",[t._v("newTagProvider")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("exports.allTagProviders = [\n    htmlTags_1.getHTML5TagProvider(),\n    vueTags_1.getVueTagProvider(),\n    routerTags_1.getRouterTagProvider(),\n    externalTagProviders_1.elementTagProvider,\n    externalTagProviders_1.onsenTagProvider,\n    externalTagProviders_1.bootstrapTagProvider,\n    externalTagProviders_1.buefyTagProvider,\n    externalTagProviders_1.gridsomeTagProvider,\n    ++externalTagProviders_1.newTagProvider\n];\n")])])]),s("p",[t._v("在下面 "),s("strong",[t._v("getTagProviderSettings")]),t._v(" 方法中的 "),s("strong",[t._v("try")]),t._v(" 语句当中，加上判断是否加载提示方法")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("if (dependencies['new']) {\n    settings['new'] = true;\n}\n")])])]),s("p",[t._v("在 "),s("strong",[t._v("dependencies")]),t._v(" 当中的 "),s("strong",[t._v("'new'")]),t._v(" 代表的是 "),s("strong",[t._v("package.json")]),t._v(" 当中有的依赖的名称，如果你实在没有组件库，你可以随便填个 "),s("strong",[t._v("Vue")]),t._v(" 啊，"),s("strong",[t._v("eslint")]),t._v(" 啊，前提是你项目有依赖。第二个 "),s("strong",[t._v("setting")]),t._v(" 当中的 "),s("strong",[t._v("'new'")]),t._v(" 代表的参数是否启用。这个值必须和第二步中我提示的那个参数一致才能生效。")]),t._v(" "),s("p",[t._v("改完保存之后，重启一下 "),s("strong",[t._v("vscode")]),t._v(" 编辑器，代码提示也出来了，至此，大功告成。")]),t._v(" "),s("p",[t._v("（ps: "),s("strong",[t._v("vscode")]),t._v(" 按 "),s("strong",[t._v("F1")]),t._v(" 之后输入命令 "),s("strong",[t._v(">Reload Window")]),t._v(",当前编辑器就可以重启了）")]),t._v(" "),s("h2",{attrs:{id:"_4、写在最后"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、写在最后"}},[t._v("#")]),t._v(" 4、写在最后")]),t._v(" "),s("p",[t._v("作为一个理科生，实在不会组织语言，这是我的第一篇文章，我已经尽可能的写的详细明白，如果有哪部分不明白或者觉得哪里我写的不好不对，大家都可以提出来，我也会虚心接受。")]),t._v(" "),s("p",[t._v("谢谢大家！")])])}),[],!1,null,null,null);e.default=r.exports}}]);