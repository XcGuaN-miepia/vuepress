(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{362:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"用-vue-cli-搭建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用-vue-cli-搭建项目"}},[t._v("#")]),t._v(" 用 vue-cli 搭建项目")]),t._v(" "),a("p",[t._v("话不多说，直接上代码")]),t._v(" "),a("p",[t._v("vue-cli 安装过程不做讲解")]),t._v(" "),a("p",[t._v("命令行输入")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("$ vue create vue-ts\n")])])]),a("p",[t._v("配置选择信息下载安装")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("? Please pick a preset: Manually "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" features\n? Check the features needed "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" your project: Babel, TS, Router, Vuex, CSS Pre-processors, Linter\n? Use class-style component syntax? Yes\n? Use Babel alongside TypeScript "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("required "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" modern mode, auto-detected polyfills, transpiling JSX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("? Yes\n? Use "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("history")]),t._v(" mode "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" router? "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Requires proper server setup "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" index fallback "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" production"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" Yes\n? Pick a CSS pre-processor "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PostCSS, Autoprefixer and CSS Modules are supported by default"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": Less\n? Pick a linter / formatter config: Standard\n? Pick additional lint features: Lint on save, Lint and fix on commit\n? Where "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" you prefer placing config "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Babel, ESLint, etc.? In dedicated config files\n? Save this as a preset "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" future projects? "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("y/N"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])])]),a("p",[t._v("目录结构")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("vue-ts\n├─.browserslistrc\n├─.editorconfig\n├─.eslintrc.js\n├─.gitignore\n├─README.md\n├─babel.config.js\n├─package-lock.json\n├─package.json\n├─tsconfig.json\n├─src\n|  ├─App.vue\n|  ├─main.ts\n|  ├─shims-tsx.d.ts\n|  ├─shims-vue.d.ts\n|  ├─views\n|  |   ├─About.vue\n|  |   └Home.vue\n|  ├─store\n|  |   └index.ts\n|  ├─router\n|  |   └index.ts\n|  ├─components\n|  |     └HelloWorld.vue\n|  ├─assets\n|  |   └logo.png\n├─public\n|   ├─favicon.ico\n|   └index.html\n")])])]),a("p",[t._v("安装完成之后，执行命令"),a("code",[t._v("npm run server")]),t._v("能打开页面就算成功")]),t._v(" "),a("h2",{attrs:{id:"修改-home-vue-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改-home-vue-文件"}},[t._v("#")]),t._v(" 修改 Home.vue 文件")]),t._v(" "),a("p",[t._v("既然是使用ts的项目，我们就要全部使用ts来使用，但是看了下 "),a("code",[t._v("Home.vue")]),t._v("文件，还是用之前的写法，所以需要修改一下")]),t._v(" "),a("h6",{attrs:{id:"原本的写法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#原本的写法"}},[t._v("#")]),t._v(" 原本的写法")]),t._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// @ is an alias to /src")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" HelloWorld "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/components/HelloWorld.vue'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Home'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  components"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    HelloWorld\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h6",{attrs:{id:"修改的写法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改的写法"}},[t._v("#")]),t._v(" 修改的写法")]),t._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Vue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-property-decorator'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Component "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-class-component'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" HelloWorld "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/components/HelloWorld.vue'")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'home'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  components"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    HelloWorld\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Home")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("只是这样对比一下，其实用ts写的代码行数并没有减少，甚至还有引入其他的依赖，但是他存在肯定有他的理由，刚开始还没有体会到他的好处也是正常的。")]),t._v(" "),a("h2",{attrs:{id:"从-0-开始开发页面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#从-0-开始开发页面"}},[t._v("#")]),t._v(" 从 0 开始开发页面")]),t._v(" "),a("p",[t._v("就从一个最简单的加减页面开始，由于想测试"),a("code",[t._v("prop")]),t._v("，将页面拆分成了组件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("views/\n├─About.vue\n├─Home.vue\n├─count\n|   ├─Count.vue\n|   ├─components\n|   |     └CountMain.vue\n")])])]),a("h6",{attrs:{id:"count-vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#count-vue"}},[t._v("#")]),t._v(" Count.vue")]),t._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("count-main")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":importCount")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("count-main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Vue "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue-property-decorator'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" CountMain "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./components/CountMain.vue'")]),t._v("\n\n@"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Component")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Count'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tcomponents"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tCountMain\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Count")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token style"}},[a("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])]),a("p",[t._v("这个页面当中，我给子组件传入"),a("code",[t._v("importCount")]),t._v("为1")]),t._v(" "),a("h6",{attrs:{id:"countmain-vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#countmain-vue"}},[t._v("#")]),t._v(" CountMain.vue")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<template>\n\t<div>\n\t\t<button @click=\"add\">+</button>\n\t\t<span>{{ count }}</span>\n\t\t<button @click=\"reduce\">-</button>\n\t\t<span>{{ computedCount }}</span>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { Prop, Vue, Component } from 'vue-property-decorator'\n\n@Component({\n\tname: 'CountMain'\n})\nexport default class CountMain extends Vue {\n\t// data\n\tprivate defaultCount = 0\n\t// prop\n\t@Prop({ type: Number, default: 0 }) importCount!: number\n\t// data\n\tcount = 1 + this.defaultCount + this.importCount\n\t// computed\n\tget computedCount () {\n\t\treturn `这个数字是${this.count}`\n\t}\n\n\t// method\n\t/**\n\t * @description: 加法\n\t */\n\tadd () {\n\t\tthis.count++\n\t}\n\n\t/**\n\t * @description: 减法\n\t */\n\treduce () {\n\t\tthis.count--\n\t}\n\n\t// hook\n\tmounted () {\n\t\tconsole.log('这是一个计算页面')\n\t}\n}\n<\/script>\n\n<style>\n\n</style>\n")])])]),a("p",[t._v("用ts的写法对于"),a("code",[t._v("data")]),t._v("来说的确方便了许多，可以用修饰符"),a("code",[t._v("private")]),t._v(","),a("code",[t._v("public")]),t._v(","),a("code",[t._v("protect")]),t._v("来进行说明，默认为"),a("code",[t._v("public")])])])}),[],!1,null,null,null);s.default=e.exports}}]);